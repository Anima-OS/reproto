package test;

type Entry {
  name: string;
}

// # HUGE Example Service
//
// This is a test to see if the documentation makes _any_ sense.
service Example {
  // Gets all the good stuff!
  endpoint "/foo" {
    // Search for a list of foos.
    * {
      method "GET";
    }

    // Create a new foo.
    * {
      method "POST";
    }

    endpoint "/{id}" {
      // # Get the foo with the current ID.
      //
      // These things cannot do shit.
      //
      // ```yaml
      // foo: 1234
      // ```
      * {
        method "GET";
      }

      // # Delete the foo with the given ID.
      * {
        method "DELETE";

        // Redirect stuff.
        returns Entry {
          status 302;
          produces "application/json";
        }
      }
    }

    // resource not found
    //
    // Something else?
    returns any {
      status 404;
      produces "text/plain";
    }

    // returned on internal server errors
    returns Entry {
      status 500;
      produces "application/json";
    }

    // other, interesting stuff
    returns Entry {
      status 501;
      produces "application/json";
    }
  }
}
